# 18장. 웹 호스팅

웹 사이트의 리소스를 관리하는 데 사실 엄청난 비용이 든다.
직접 호스팅 서버를 만들기 위해선 보안, 요청 응답 메세지 작업 등 다양한 작업이 필요한데,
이런 작업들 없이 손쉽게 웹 사이트에 내 홈페이지를 올려놓는 게 `웹 호스팅`이다.

호스팅 서버에 여러가지 사이트가 있을 것이다. 그런데 GET 헤더로만 요청하던 HTTP 요청에서는
어떻게 리소스를 찾을 수 있었던 걸까? --> 결국엔 호스팅 서버 관리자의 고단한 노력이 필요했다.
```
GET index.html HTTP/1.0
...
```

HTTP/1.1 이 지원되고 나서부터는 이제 Request 헤더엔 `Host` 헤더가 붙기 시작했다.
그래서 이 파일을 어느 서버에 요청하는 것인지 쉽게 알 수 있다.

```
GET index.html HTTP/1.1
Host: naver.com
...
```

### 웹 사이트에 장애가 생기는 경우
- 서버 다운
- 트래픽 과부하 (예를 들어, 실시간 검색어 등극에 의해 한번에 너무 많은 요청을 받게 되면 트래픽이 치솟게 된다.)
- 네트워크의 장애나 손실

이런 장애를 대비하기 위해 다음과 같은 해결책이 존재한다.

#### 서버팜
메인 서버가 있고, 그 복사본을 만들어두면 된다. 이걸 **미러링 된 서버팜**이라고도 부른다.
클라이언트에서 요청이 있을 때 메인서버는 복제 서버에 리소스를 다시 전달해줄 책임이 있다.

#### CDN
> 컨텐츠 분산 네트워크

1) CDN 의 대리캐시
- 전체 컨텐츠가 아니라, 요청 컨텐츠만 복제 서버에 전달한다. 그래서 요청본만 캐시를 만드는 것임.

2) CDN 의 프락시캐시
- 요청이 있을 때만 저장한다. 스위치가 요청을 가로채서 프락시로 보내기도 한다.

(이 내용에 대해선 20장에서 다룬다고 한다. 그때 자세히 작성할것임!)

----

결국, 이렇게 다양한 방법으로 서버를 분산시키는 이유는, 웹 서버의 과부하를 방지하고
리소스를 분산시켜서 클라이언트가 빠르게 주변에 있는 리소스에 접근할 수 있게 하기 위해서다. :smirk:



