<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>debounce</title>
	<style>
	/*html, body {*/
		/*height: 100%;*/
	/*}*/
	
	#container {
		height: 100px;
		overflow: scroll;
	}
	
	.box {
		height: 58px;
		background-color: red;
		margin: 10px 0;
		border: 1px solid red;
	}
	</style>
</head>
<body>
<div id="container">
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
</div>
<script type="text/javascript">
function debounce (fn, delay) {
  let timer = null;

  return function () {
    // let context = this;
    // let args = arguments;
    // 이벤트 호출되면 타이머를 초기화하고 다시 시작한다.
    console.log(timer);
    clearTimeout(timer);
    timer = setTimeout(function () {
      foo();
      // fn.apply(context, args);
    }, delay);
  }
}

function foo () {
  console.log('You are scrolling');
}

let elem = document.getElementById('container');
elem.addEventListener('scroll', debounce(foo, 2000));
	</script>
</body>
</html>