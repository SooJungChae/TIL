<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>퀵 정렬</title>
</head>
<script type="text/javascript">

    const quickSort = (arr, left, right) => {

        if (right - left == 1) {
            if (arr[left] > arr[right]) {
                let temp = arr[left];
                arr[left] = arr[right];
                arr[right] = temp;
            }
            return arr;
        }

        if (left < right) {
            let pivotPosition = position(arr, left, right);
            quickSort(arr, left, pivotPosition - 1);
            quickSort(arr, pivotPosition + 1, right);
        }

        return arr;
    };

    const position = (arr, left, right) => {

        let pivot = arr[left];

        let i = left + 1;
        let j = right;

        while(i < j) {
            while(arr[i] < pivot) i++;
            while(i < j && arr[j] > pivot) j--;

            if (i == j) {
                break;
            }

            let temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
        }

        arr[left] = arr[j-1];
        arr[j-1] = pivot;

        return j-1;
    }

    var testArr = [5, 3, 7, 6, 2, 1, 4];

    let q = quickSort(testArr, 0, testArr.length - 1);
    console.log(q);

</script>
<body>
</body>
</html>
