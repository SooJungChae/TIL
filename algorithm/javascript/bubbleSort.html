<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>버블정렬</title>
</head>
<script type="text/javascript">

    let arrLen;
    let arrangedPosition;   // 정렬된 포지션 위치
    let left ,right;

    var bubbleSort = ((arr) => {
        arrLen = arr.length;
        arrangedPosition = arrLen;   // 정렬된 포지션 위치

        // 정렬 배열 갯수가 2미만이라면 정렬할 필요없다.
        if (arrLen < 2) {
            return arr;
        }

        doBubbleSort(arr, arrangedPosition);
    });

    let doBubbleSort = (arr, arrangedPosition) => {
        // 정렬을 돌며 기준값과 바로 다음 위치의 값을 비교한다.
        for(var i = 0; i < arrangedPosition; i++) {

            left = arr[i];
            right = arr[i+1];

            // 기준값보다 비교대상이 작으면 switch 를 한다.
            if (left > right) {
                arr[i] = right;
                arr[i+1] = left;
            }
        }

        if (arrangedPosition == 2) {
            return arr;
        }

        // 마지막에는 가장 큰 값이 정렬되므로
        // 그 전까지의 값을 다시 버블정렬한다.
        console.log(arrangedPosition, arr);
        arrangedPosition--;
        doBubbleSort(arr, arrangedPosition);
    }

    var testArr = [3, 5, 1, 8, 10, 2, 7, 11];
    bubbleSort(testArr);
</script>
<body>
</body>
</html>
